<div class="grid">
	

	<div class="col-8" >

		<div class="card px-6 py-6">
			<h5>Registrar un nuevo producto</h5>

			<div class="p-fluid p-formgrid grid" [formGroup]="myForm">

				<div class="field col-12 md:col-12">
					<label htmlFor="codigoP">Codigo de Producto:</label>
					<input
					formControlName="codigoP"
					pInputText id="codigoP" type="text" />
					<span *ngIf="isValidField('codigoP')" class="form-text text-danger">
						El campo es requerido
				   </span>
				</div>
				<div class="field col-12 md:col-12">
					<label htmlFor="nombreC">Nombre Comercial:</label>
					<input 
					formControlName="nombreC"
					pInputText id="nombreC" type="text" />
				</div>
				<div class="field col-12 md:col-12">
					<label htmlFor="sustanciaA">Sustancia Activa:</label>
					<input 
					formControlName="sustanciaA"
					pInputText id="sustanciaA" type="text" />
				</div>
				<div class="field col-12 md:col-2">
					<label htmlFor="costoU">Costo_U:</label>
					<input 
					formControlName="costo_u" 
					pInputText id="costoU" type="number" />
				</div>
				<div class="field col-12 md:col-2">
					<label htmlFor="precio1">Precio1:</label>
					<input 
					(keyup)="calcular(costoInput.value)"
					#costoInput
					[(ngModel)]="precio"
					formControlName="precio1"
					pInputText id="precio1" type="number" />
				</div>
				<div class="field col-12 md:col-2">
					<label htmlFor="utilidad1">Utilidad1 %:</label>
					<input 
					(keyup)="calcularPrecio(precioInput.value)"
					#precioInput
					[(ngModel)]="utilidad"
					formControlName="utilidad1" 
					pInputText id="utilidad1" type="number" />
					
				</div>
				<div class="field col-12 md:col-2">
					<label htmlFor="precio2">Precio2:</label>
					<input 
					formControlName="precio2"
					pInputText id="precio2" type="number" />
				</div>
				<div class="field col-12 md:col-2">
					<label htmlFor="utilidad2">Utilidad2:</label>
					<input 
					formControlName="utilidad2"
					pInputText id="utilidad2" type="number" />
				</div>
				<div class="field col-12 md:col-2">
					<label htmlFor="precio3">Precio3:</label>
					<input 
					formControlName="precio3"
					pInputText id="precio3" type="number" />
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="utilidad3">Utilidad3:</label>
					<input 
					formControlName="utilidad3"
					pInputText id="utilidad3" type="number" />
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="precio4">Precio4:</label>
					<input 
					formControlName="precio4"
					pInputText id="precio4" type="number" />
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="utilidad4">Utilidad4:</label>
					<input 
					formControlName="utilidad4"
					pInputText id="utilidad4" type="number" />
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="existencia">Existencia:</label>
					<input 
					formControlName="existencia"
					pInputText id="existencia" type="number" />
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="unidad">Unidad:</label>
					<input 
					formControlName="unidad"
					pInputText id="unidad" type="text" />
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="linea">Linea:</label>
					<p-dropdown formControlName="linea_id" [options]="lin"  [(ngModel)]= "line" optionLabel="linea" optionValue="linea" placeholder="Selecciona una linea" ></p-dropdown>
				
				</div>
				<div class="field col-12 md:col-3">
					<label htmlFor="marca">Marca:</label>
					<p-dropdown formControlName="marca_id" [options]="mar" [(ngModel)]="marc" optionLabel="marca" optionValue="marca" placeholder="Selecciona una marca"></p-dropdown>
				</div>
				<!-- OTRO NIVEL-->
				
                <div class="field col-12 md:col-3">
					<label htmlFor="impuesto">Impuesto:</label>
					<p-dropdown  formControlName="impuesto_id" [options]="impu" optionLabel="impuesto" optionValue="impuesto"  placeholder="Seleccione un tipo de impuesto"></p-dropdown>
					
				</div>
                <div class="field col-12 md:col-3">
					<label htmlFor="city">minimo:</label>
					<input
					formControlName="minimo"
					pInputText id="city" type="number" />
				</div>
                <div class="field col-12 md:col-3">
					<label htmlFor="city">maximo:</label>
					<input 
					formControlName="maximo"
					pInputText id="city" type="number" />
				</div>
                <div class="field col-12 md:col-3">
					<label htmlFor="imagen">Imagen:</label>
					<input 
					[disabled]="true"
					formControlName="imagen" [ngModel]="imag"
					pInputText id="imagen" type="text" />
					
				</div>
				<!--<div class="field col-12 md:col-3">
					<p>Granel:</p>
					<div class="grid formgrid">
						<div class="col-12 md:col-4">
							<div class="field-radiobutton">
								<p-radioButton name="" value=""  id=""></p-radioButton>
								<label for="">Si</label>
							</div>
						</div>
						<div class="col-12 md:col-4">
							<div class="field-radiobutton">
								<p-radioButton name="" value="" 
											   id=""></p-radioButton>
								<label for="">No</label>
							</div>
						</div>
					</div>
				</div>-->
				<div class="field col-12 md:col-3">
					<p>Bloquear:</p>
					<div class="grid formgrid">
						<div class="col-12 md:col-4">
							<div class="field-radiobutton">
								<p-radioButton name="bloqueado" value="Si"  [(ngModel)]="valor" inputId="valor" formControlName="bloqueado"></p-radioButton>
								<label for="valor">SI</label>
							</div>
						</div>
						<div class="col-12 md:col-4">
							<div class="field-radiobutton">
								<p-radioButton name="bloqueado" value="No" [(ngModel)]="valor" inputId="valor2" formControlName="bloqueado" ></p-radioButton>
								<label for="valor2">NO</label>
							</div>
						</div>
					</div>
				</div>
				<div class="field col-12 md:col-3">
					<p>Granel:</p>
					<div class="grid formgrid">
						<div class="col-12 md:col-4">
							<div class="field-radiobutton">
								<p-radioButton name="granel" value="SI"  [(ngModel)]="valorG" inputId="valore" formControlName="granel"></p-radioButton>
								<label for="valore">SI</label>
							</div>
						</div>
						<div class="col-12 md:col-4">
								<div class="field-radiobutton">
									<p-radioButton name="granel" value="No" [(ngModel)]="valorG" inputId="valore2" formControlName="granel" ></p-radioButton>
									<label for="valore2">NO</label>
								</div>
						</div>
					</div>
				</div>

				<div class="field col-12 md:col-3">
					<button 
                    (click)="onSubmit()"
                    pButton pRipple label="Actualizar"></button>
				</div>

				<div class="field col-12 md:col-3">
					<button 
                    routerLink="/uikit/formProducA"
                    
                    pButton  class="p-button-danger" pRipple label="Regresar"></button>
                    
				</div>
				
			</div>

			

		</div>
	</div>

    <div class="col-4" >
        <div class="card" >
            
            <p-fileUpload name="files[]" url="http://localhost:8080/baseDatos/upload.php" (onUpload)="onUpload($event)"
			accept="image/*" [maxFileSize]="1000000" 
			
			chooseLabel="Escoger imagen"
			uploadLabel="Subir imagen"
			cancelLabel="Cancelar" 
			previewWidth="200"
			>
                <ng-template pTemplate="content">
                    <label htmlFor="block"></label>
                    <ul *ngIf="uploadedFiles.length">
                        <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                    </ul>
                </ng-template>
            </p-fileUpload>

			<p-messages></p-messages>
            <!-- IMAGEN DEL PRODUCTO-->
            <h5>Imagen</h5>

            <div class="flex justify-content-center">
                <div class="flex justify-content-center">
                    <p-image src="{{im}}" alt="Image" width="300" [preview]="true"></p-image>
                </div>
            </div>
        </div>
    </div>

</div>
